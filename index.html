<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>World Map Cup - Challenge #3</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.46.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.46.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }

        img {
            max-width: 100%;
        }
    </style>
</head>

<body>

    <style>
        #map {
            position: fixed;
            width: 50%;
        }

        #features {
            width: 50%;
            margin-left: 50%;
            font-family: Tw Cen MT;
            overflow-y: scroll;
            background-color: #fafafa;
        }

        section {
            padding: 25px 50px;
            line-height: 25px;
            border-bottom: 1px solid #ddd;
            opacity: 0.25;
            font-size: 20px;
        }

        section.active {
            opacity: 1;
        }

        section:last-child {
            border-bottom: none;
            margin-bottom: 1000px;
        }

        .codegena {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.27198%;
        }

        .codegena iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }



        @media (max-width: 640px) {
            #map {
                position: fixed;
                width: 100%;
                z-index: 1;
            }

            #features {
                position: absolute;
                margin-left: unset;
                width: unset;
                left: 10px;
                right: 10px;
                /* top: 10px;
                bottom: 10px; */
                z-index: 2;
                background-color: rgba(255, 255, 255, 0.3);
            }
            section.active {
                background-color: rgba(255, 255, 255, 0.5);
            }
        }
    </style>

    <div id='map'></div>
    <div id='features'>
        <section id='0' class='active'>
            <h3>FIFA World Cup History - A Short Intro</h3>
            <p>Source
                <a href="https://en.wikipedia.org/wiki/List_of_FIFA_World_Cup_finals/">Wikipedia</a>, obviously!
            </p>
        </section>
        <section id='1930' class='active'>
            <h3>1930 - Uruguay</h3>
            <p>
                The first World Cup was hosted by Uruguay, and the final saw the hosts beating Argentina 4-2. They had also won the two previous
                Olympic Games and would now be the first holders of the Jules Rimet trophy, named after FIFA's president.
            </p>
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/4a/La_Coupe_Jules_Rimet_%28cropped%29.jpg" />
            <p>
                The finalists disagreed as to what ball to use for the game. Thus FIFA decided a different ball was used in each half, one
                chosen by each team. Argentina's ball was used for the first half, and Uruguay's ball was used for the second
                half.
            </p>
        </section>
        <section id='1934'>
            <h3>1934 - Italy</h3>
            <p>
                The second edition of the World Cup was hosted by Italy, who also won the final against Czechoslovakia.
            </p>
            <p>
                The victory was not without controversy, however. The referee of both the semi final and the final itself was believed to
                have been under Benito Mussolini's influence. The dictator also had his own trophy made, "La Coppa del Duce",
                obviously much larger than the Jules Rimet.
            </p>
        </section>
        <section id='1938'>
            <h3>1938 - France</h3>
            <p>
                Hosted in Europe for the second time in a row bothered the South-Americans. Uruguay boycotted the 1934 and -38, after many
                European teams had declined to participate in 1930.
            </p>
            <p>
                In the end, Italy won, beating Hungary in the final.
            </p>
        </section>
        <section id='1950'>
            <h3>1950 - Brazil</h3>
            <p>
                Having been put on hold during WWII, 1950 saw Brazil hosting, but the football-crazed lost-out in the final game at the newly-built
                Maracana against Uruguay.
            </p>
            <p>
                Brazil's
                <a href="https://en.wikipedia.org/wiki/Moacir_Barbosa_Nascimento>">goalkeeper</a>
                was held responsible for the loss and in the year 2000, shortly before his death reportedly said "The maximum punishment
                in Brazil is 30 years imprisonment,but I have been paying, for something I am not even responsible for, by
                now, for 50 years".
            </p>
        </section>
        <section id='1954'>
            <h3>1954 - Switzerland</h3>
            <p>
                The first televised World Cup were held in Switzerland. Hungary, with legendary Puskas, were heavy favourites, but they lost
                out to West-Germany in the final.
            </p>
            <p></p>
        </section>
        <section id='1958'>
            <h3>1958 - Sweden</h3>
            <p>
                Sweden were heavy favourites to win the tournament, but at the end, Brazil, with a 17-year-old Pele leading the charge, won
                the final 4-2.
            </p>
            <p></p>
        </section>
        <section id='1962'>
            <h3>1962 - Chile</h3>
            <p>
                In Chile, Brazil defended their title despite missing Pel√© to injury, beating Czechoslovakia in the final.
            </p>
            <p>
                This edition of the World Cup is remembered for the prevalence of defensive, and often violent, tactics. An example of this
                was the group match between the hosts and Italy, a match thet became known as
                <a href="https://en.wikipedia.org/wiki/Battle_of_Santiago_(1962_FIFA_World_Cup)">"The Battle of Santiago"</a>.
            </p>
            <p>
                The referee of that game went on to invent yellow and red cards.
            </p>
        </section>
        <section id='1966'>
            <h3>1966 - England</h3>
            <p>
                In 1966 "football came home" with the hosts beating West-Germany 4-2 after extra time in the final. Geoff Hurst's 3-2-goal
                hit the crossbar and landed just behind the goal line. Or did it? People still discuss it do this day.
            </p>
            <p>
                Leading up to the tournament, the Jules Rimet trophy was stolen from an exhibition. It was found, though, by a four year
                old dog, Pickles.
            </p>
            <img src="https://upload.wikimedia.org/wikipedia/en/b/b9/Pickles_dog.jpg" />
        </section>
        <section id='1970'>
            <h3>1970 - Mexico</h3>
            <p>
                The first time the World Cup was televised in color, the world was mesmerized by Brazil's samba. They beat Italy 4-1 in the
                final. Winning for the third time, Brazil got to keep the Jules Rimet trophy. It was stolen in 1983, however,
                and is believed to have been melted down and sold.
            </p>
            <p>
                This was the first year Adidas provided the official match ball (they still do), and the Telstar design is by many considered
                the "arch-type" football.
            </p>
            <img src="https://i2-prod.mirror.co.uk/incoming/article11493505.ece/ALTERNATES/s615b/Previous-World-Cup-Footballs.jpg" style="width: 480px;">
        </section>
        <section id='1974'>
            <h3>1974 - West-Germany</h3>
            <p>
                The hosts won the 1974 chanpionship, but it was their opponents in the final, The Netherlands, who captured the world's imagination
                with
                <a href="https://en.wikipedia.org/wiki/Total_Football">Total Football
                </a>, with Johan Cryuff as the embodiment. Cryuff developed this style further when he managed Barcelona
                and is the basis for how they and Spain plays today.
            </p>
            <p>
                As the Jules Rimet now belonged to Brazil, a new trophy was made for 1974, and West-Germany were thus the first winners of
                the current FIFA World Cup Trophy.
            </p>
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1c/FIFA_-_replica_world_cup_trophy.JPG" />
        </section>
        <section id='1978'>
            <h3>1978 - Argentina</h3>
            <p>
                Another controversial World Cup was hosted by Argentina, as a military coup had taken place two years earlier. The hosts
                won the final against The Netherlands, now having lost two times in a row. Should Argentina even have reached
                the semi final? To beat out Brazil in the group stage, they had to beat Peru by four goals. Being down 0-2
                at half time, Peru collapsed in the second half and eventually lost 0-6. Were they bribed?
            </p>
        </section>
        <section id='1982'>
            <h3>1982 - Spain</h3>
            <p>
                The 1982 World cup saw its first expansion since 1934 from 14 to 24 teams. Sources say, this is the last time the world saw
                Brazil's "true" samba style football, with legends like Zico, Socrates, Falcao and Eder spell-binding the
                world. They lost out at the second group stage to Italy, however, who went on to win.
            </p>
            <p>
                In the group match between Kuwait and France, at one point the Kuwaiti players heard a wistle from the stands and stopped
                playing, allowing a French player to score. The goal was not disallowed until Sheikh Fahid Al-Ahmad Al-Sabah,
                president of the Kuwait Football Association, rushed onto the pitch and gave the referee a piece of his mind.
            </p>
            <p>
                The final group match between West-Germany and Austria became infamous for both teams working to ensure a 1-0 victory for
                West-Germany, a result that allowed both teams to escape the group. After this, the last two group-stage
                games have been played simultaneously.
            </p>
        </section>
        <section id='1986'>
            <h3>1986 - Mexico</h3>
            <p>
                Mexico was the first recurring host, and in 1986 Diego Maradona dominated, leading Argentina to their second victory. The
                most memorable game was their querterfinal match against England, in which he scored two legendary goals.
                One in which he single-handedly dribbled the length of the court, past five Englishmen, scoring what is by
                many considered the goal of the century.
            </p>
            <div class="codegena">
                <iframe width='560' height='329' src="https://www.youtube.com/embed/PbNIfxcuGWU?" frameborder="0"></iframe>
            </div>
            <p>
                The other goal was perhaps even more memorable as he beat the 20 cm taller English goalkeeper on a high-ball to score. At
                the press conference he famously said the goal was made "a little with the head of Maradona and a little
                with the hand of God".
            </p>
        </section>
        <section id='1990'>
            <h3>1990 - Italy</h3>
            <p>
                In the 1990 World Cup, Cameroon became the first African nation to reach the quarterfinals. They beat reigning champions
                Argentina in their opening match, a game that featured a tackle so hard, the tackler lost his shoe!
            </p>
            <div class="codegena">
                <iframe width='560' height='329' src="https://www.youtube.com/embed/KeRlJJbtdHc?" frameborder="0"></iframe>
            </div>
            <p>
                In the end, West-Germany, who had lost the two previous finals, won. They beat England on penalties in the semifinals. Gary
                Lineker, who scored England's equalizer in the game, was later famously quoted saying "Football is a simple
                game; 22 men chase a ball for 90 minutes and at the end, the Germans win."
            </p>
        </section>
        <section id='1994'>
            <h3>1994 - USA</h3>
            <p>
                Brazil beat Italy in the first final to be decided on penalties in 1994, making them a record four-time-winning nation.
            </p>
            <p>
                Tragically, 1994 will also be remembered for Colombian defender Andres Escobar, who was murdered ten days after scoring an
                own-goal in a loss that eliminated Colombia.
            </p>
            <p>
                A highlight of the USA World Cup came during the opening ceremony, when Diana Ross were to kick a ball into the goal, splitting
                it in half, but missed.
            </p>
            <div class="codegena">
                <iframe width='560' height='329' src="https://www.youtube.com/embed/BAKsGT9-XB0?" frameborder="0"></iframe>
            </div>
        </section>
        <section id='1998'>
            <h3>1998 - France</h3>
            <p>For 1998, the FIFA World Cup was expanded to 32 teams. The hosts beat Brazil 3-0 in the final to win their first
                World Cup. Debutants Croatia finished third.</p>
            <p></p>
        </section>
        <section id='2002'>
            <h3>2002 - South Korea and Japan</h3>
            <p>
                The 2002 World Cup was the first to be held in Asia, and the first to be jointly hosted. Hosts South-Korea ended fourth after
                sensationally having beat out Italy and Spain en route to the semifinal.
            </p>
            <p>
                Brazil beat Germany in the final, with "Il Fenomeno", Ronaldo, winning the Golden Boot redeeming him after the disappointment
                of the 1998 final loss.
            </p>
            <img src="http://ukbuzz.wordpress.eurosport.com/wp-content/uploads/sites/11/2017/02/RONNY-1170x658.jpg" />
        </section>
        <section id='2006'>
            <h3>2006 - Germany</h3>
            <p>
                The final of the 2006 World Cup between France and Italy was a dramatic one. It was already known that it would be legend
                Zenedine Zidane's last game for Les Bleus. After just seven minutes played, he put away a penalty by chipping
                the ball, touching the crossbar on its way in. Ten minutes later Materazzi of Italy, who had conceded the
                penalty, equalized the game with a header.
            </p>
            <p>
                The final is most remembered, however, by another incident between the two that happened at extra time. Zidane was sent off
                with ten minutes left after head butting Materazzi. Italy went on to win the penalty shootout, the second
                final in World Cup history to be decided this way.
            </p>
            <div class="codegena">
                <iframe width='560' height='329' src="https://www.youtube.com/embed/lXJy_qTvqpk?" frameborder="0"></iframe>
            </div>
        </section>
        <section id='2010'>
            <h3>2010 - South Africa</h3>
            <p>
                The first time the FIFA world cup was hosted in Africa, Spain won for the first time, asserting their place as the dominating
                football nation of the time, also winning the 2008 and 2012 UEFA European Championship.
            </p>
            <p>
                Football fans all over the world still get stricken by PTSD when reminded by the Vuvuzelas that were constantly buzzing throughout
                the cup.
            </p>

            <div class="codegena">
                <iframe width='560' height='329' src="https://www.youtube.com/embed/bKCIFXqhLzo?" frameborder="0"></iframe>
            </div>
        </section>
        <section id='2014'>
            <h3>2014 - Brazil</h3>
            <p>The second time Brazil hosted, Germany beat Argentina in the final, but the most memorable game of the tournament
                was their semi-final where they slayed Brazil 7-1. The game is known as "The Red Wedding".
            </p>
            <p>
                <blockquote class="twitter-tweet" data-lang="en">
                    <p lang="en" dir="ltr">Brazil vs Germany, also know as The Red Wedding.</p>&mdash; Peter Dinklage (@Peter_Dinklage)
                    <a href="https://twitter.com/Peter_Dinklage/status/486608896740827136?ref_src=twsrc%5Etfw">July 8, 2014</a>
                </blockquote>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </p>
        </section>
        <section id='2018'>
            <h3>2018 - Russia</h3>
            <p>
                This year's final will be played in Moscow between France and Croatia. It will be Croatia's first appearance. But no matter
                what the real winner of 2018 will be Michy Batshuayi.
            </p>
            <iframe src="https://giphy.com/embed/8OVKEnGXDv1HdfIlUQ" width="480" height="270" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
            <p>
                <a href="https://giphy.com/gifs/sportwereld-lol-football-8OVKEnGXDv1HdfIlUQ">via GIPHY</a>
            </p>
        </section>
    </div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiaGFha3NldGgiLCJhIjoiY2pqaXBmYTRvM3V3ZTNycGxvc2lubzh0dCJ9.t_HipeJSLO5I1nJOQwzc2g';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/haakseth/cjjlw8koa50mx2smg7zgs1k9j',
            bearing: -0,
            center: [37.52984664657049, 55.75369642243939],
            zoom: 1.5,
            speed: 1,
            pitch: 0
        });
        var chapters = {
            '0': {
                bearing: -0,
                center: [37.52984664657049, 55.75369642243939],
                zoom: 2,
                speed: 1,
                pitch: 0
            },
            '1930': {
                bearing: -0,
                center: [-56.152778, -34.894444],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1934': {
                bearing: -0,
                center: [12.4723, 41.926956],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1938': {
                bearing: -0,
                center: [2.248056, 48.929444],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1950': {
                bearing: -0,
                center: [-43.230164, -22.912167],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1954': {
                bearing: -0,
                center: [7.465, 46.962778],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1958': {
                bearing: -0,
                center: [17.996308, 59.362742],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1962': {
                bearing: -0,
                center: [-70.610556, -33.464444],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1966': {
                bearing: -0,
                center: [-0.279722, 51.555556],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1970': {
                bearing: -0,
                center: [-99.150442, 19.302911],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1974': {
                bearing: -0,
                center: [11.546667, 48.173056],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1978': {
                bearing: -0,
                center: [-58.449736, -34.545319],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1982': {
                bearing: -0,
                center: [-3.68835, 40.45306],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1986': {
                bearing: -0,
                center: [-99.150442, 19.302911],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1990': {
                bearing: -0,
                center: [12.454786, 41.933886],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1994': {
                bearing: -0,
                center: [-118.168, 34.161],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '1998': {
                bearing: -0,
                center: [2.36, 48.924444],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '2002': {
                bearing: -0,
                center: [139.606247, 35.510044],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '2006': {
                bearing: -0,
                center: [13.239444, 52.514722],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '2010': {
                bearing: -0,
                center: [27.982353, -26.234797],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '2014': {
                bearing: -0,
                center: [-43.230164, -22.912167],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
            '2018': {
                bearing: -0,
                center: [37.553758, 55.715989],
                zoom: 12,
                speed: 1,
                pitch: 30
            },
        };
        // On every scroll event, check which element is on screen
        window.onscroll = function () {
            var chapterNames = Object.keys(chapters);
            // console.log(chapterNames);
            for (var i = 0; i < chapterNames.length; i++) {
                var chapterName = chapterNames[i];
                if (isElementOnScreen(chapterName)) {
                    setActiveChapter(chapterName);
                    break;
                }
            }
        };
        var activeChapterName = '0';
        function setActiveChapter(chapterName) {
            if (chapterName === activeChapterName) return;
            map.flyTo(chapters[chapterName]);
            document.getElementById(chapterName).setAttribute('class', 'active');
            document.getElementById(activeChapterName).setAttribute('class', '');
            activeChapterName = chapterName;
        }
        function isElementOnScreen(id) {
            var element = document.getElementById(id);
            var bounds = element.getBoundingClientRect();
            return bounds.top < window.innerHeight && bounds.bottom > 0;
        }
    </script>
</body>

</html>